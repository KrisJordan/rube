# Blueprint:
# 
{
    "coffee": {
        "description":  "Compile Coffee Scripts",
        "input":        "src/*.coffee",
        "output":       "lib/$1.js",
        "multiexec":    "coffee -o $output $input"
    },
    "concat-js": {
        "description":  "Concatenate JS into 1 file",
        "input":        { "outputs": "coffee" },
        "output":       "lib/app.js",
        "exec":         "cat $inputs > $output"
    },
    "less": {
        "description":  "Compile Less Styles",
        "input":        "style/src/*.less",
        "output":       "style/css/$1.css",
        "multiexec":    "less -o $output $input"
    },
    "concat-css": {
        "description":  "Concatenate css into 1 file",
        "input":        { "outputs": "less" },
        "output":       "style/css/app.css",
        "exec":         "cat $inputs > $output"
    },
    "all": {
        "description":  "Build the whole project",
        "input":        { "tasks": [ "concat-js", "concat-css"] }
    }
}
# Work order:
# [
#     {   
#         "depends":      [],
#         "output":       "src/a.coffee",
#         "task":         null
#     },
#     {
#         "depends":      ["src/a.coffee"],
#         "output":       "lib/a.js",
#         "task":         "coffee",
#         "exec":         "coffee -o lib/a.js src/a.coffee"
#     },
#     {
#         "depends":      ["lib/b.js"],
#         "task":         "coffee",
#         "depends":      "src/b.coffee",
#         "exec":         "coffee -o lib/b.js src/b.coffee"
#     },
#     {
#         "depends":      ["lib/a.js", "lib/b.js"],
#         "output":       "lib/app.js"
#         "task":         "concat-js",
#         "exec":         "cat lib/a.js lib/b.js > lib/app.js"
#     },
#     "#js": {
#         "depends":      ["lib/app.js"]
#     }
#     "#all": {
#         "depends":      ["#js"]
#     }
# ]
